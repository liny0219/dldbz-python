# dldbz-python

#### 介绍
仅供交流学习用，请勿用于任何商业盈利

#### 更新说明
v2.1.0
增加追忆之书功能,自定义战斗编辑系统

v1.9.0
增加历史日志功能
优化坐标采集逻辑

v1.8.0
优化启动逻辑
增加游戏盘扔骰子统计
打包ocr模型

v1.7.0
修复信息统计，翻车完成次数等
优化重试逻辑, 增强识别距离的成功率

v1.6.0
修复信息统计，翻车完成次数等
增强识别距离的成功率

v1.5.0
修复自定义规则重试次数不生效

v1.4.0
增加游戏盘自定义扔骰子设置
详情查看游戏盘配置文件
``` json
{
  "info_check_roll_rule_":"0-不使用自定义扔骰子规则,默认只投一次,1-使用自定义扔骰子规则",
  "info_bp":"[100,50,0],[50,30,1],[30,0,3]说明从100(包含)到50(不包含),使用0bp,从50(包含)到30(不包含)使用1bp,从30(包含)到0(包含)使用3bp",
  "info_check_roll_rule_time":"识别距离格子最大重试次数,默认5,识别成功1次立即结束",
  "info_check_roll_rule_wait":"扔骰子前等待时间,默认0.1,等待可以增加识别成功率,但会影响速度,自行调控",
  "check_roll_rule": "0",
  "check_roll_rule_time": "5",
  "check_roll_rule_wait": "0.1",
  "bp": {
      "801": "[100,0,3]",
      "802": "[100,0,0]",
      "803": "[100,0,0]"
  }
}
```
v1.3
优化巡检逻辑，每轮只截屏1次
开放巡检配置
config目录下monopoly.json
"isContinue": "0", 重启后是否继续游戏，目前如果检查还有问题，会卡住的话，建议0关闭
"check_interval": "0.2", 每轮巡检频率0.2秒
"check_roll_dice_time": "2", 丢出骰子后，加快动画点击次数，默认2
"check_roll_dice_interval": "0.2", 丢出骰子后，加快动画点击的间隔，默认0.2秒

v1.2
增加重启后是继续还是取消配置
增加是否输出日志配置
增加卡屏检查
优化扔骰子逻辑，减少丢出去的耗时

v1.1 
支持80权威游戏盘
支持80富足游戏盘
支持80名声游戏盘

#### 使用说明

1.  修改模拟器的分辨率为960x540
2.  在启动配置里修改adb port，雷电模拟器默认为127.0.0.1:5555，mumu模拟器默认为:127.0.0.1:16384

#### 战斗指令说明
- **BattleStart** - 战斗开始
- **BattleEnd** - 战斗结束，用来标记每场战斗的开始和结束。如果是子连战，可能需要标记多次。
- **Role,角色编号,技能编号,能量等级，敌人位置** - 控制角色使用指定技能攻击敌人。例子: `Role,1,2,3,x,y`，其中 x,y 是通过标记坐标按钮获取的敌人位置。
- **Boost** - 全体加成，提升所有角色的某些能力。
- **SwitchAll** - 全员交替，改变当前的战斗队形或角色顺序。
- **Attack** - 发起攻击，通常用于执行战斗命令。
- **Wait,500** - 等待500毫秒，用于控制动作间的时间延迟。
- **Skip,500** - 跳过500毫秒，用于快速跳过某些动作或等待。
- **Click,x,y** - 点击某个坐标，用来选中集火某个敌人。
- **SP,1(角色编号)** - 角色使用必杀技能，`SP,1` 表示第一个角色使用。
